---
import LogoAnimation from "../components/LogoAnimation.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
---
<LogoAnimation />

<BaseLayout>
  <!-- ðŸ”§ Animation (landing page only) -->

  <!-- Hero section -->
  <section class="hero">
    <h2>A Racing Team with History</h2>
  </section>

  <!-- Sponsors -->
  <section id="sponsors" class="sponsors">
	<h3>Our Sponsors</h3>
	<div class="sponsor-logos">

	<div class="sponsor-grid">
	  <a href="https://www.stonybrook.edu/ceas/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/ceas.png" alt="Stony Brook College of Engineering & Applied Sciences" />
	  </a>
	  <a href="https://www.stonybrook.edu/ceas/connect" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/usg.png" alt="Stony Brook USG" />
	  </a>
	  <a href="https://www.stonybrook.edu/ceas/mechanical" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/mecheng.png" alt="Stony Brook Mechanical Engineering" />
	  </a>
	  <a href="https://www.solidworks.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/solidworks.svg" alt="Solidworks" />
	  </a>
	  <a href="https://www.ansys.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/ansys.svg" alt="Ansys" />
	  </a>
	  <a href="https://www.kisssoft.com/en/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/kisssoft.svg" alt="KISSsoft" />
	  </a>
	  <a href="https://hexagon.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/hexagon.svg" alt="Hexagon" />
	  </a>
	  <a href="https://www.mastercam.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/mastercam.svg" alt="Mastercam" />
	  </a>
	  <a href="https://www.kenesto.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/kenesto.png" alt="Kenesto" />
	  </a>
	  <a href="http://www.flagpolesinc.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/flagpoles.gif" alt="Flagpoles Inc" />
	  </a>
	  <a href="https://www.4xpro.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/4xpro.avif" alt="4XPro" />
	  </a>
	  <a href="https://www.ghaasfoundation.org/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/ghaas.png" alt="Gene Haas Foundation" />
	  </a>
	  <a href="http://basebrooklyn.net/online/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/basebrooklyn.png" alt="Base Brooklyn" />
	  </a>
	  <a href="https://burtonind.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/burton.png" alt="Burton Industries Inc" />
	  </a>
	  <a href="https://maloyalaser.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/maloya.webp" alt="Maloya" />
	  </a>
	  <a href="#" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/di_finishing.png" alt="D&I Finishing Inc" />
	  </a>
	  <a href="http://www.kkfinishingco.com/" target="_blank" rel="noopener noreferrer">
		<img src="/images/sponsors/kkfinishing.png" alt="KK Finishing Inc" />
	  </a>
	</div>
</div>

  </section>
  

  <!-- Contact -->
  <section id="contact" class="section">
    <h3>Contact Us</h3>
    <p>
      Email: stonybrookbmotorsports@gmail.com<br />
      Instagram: <a href="https://instagram.com/stonybrookmotorsports" target="_blank">@stonybrookmotorsports</a>
    </p>
  </section>

  <!-- ðŸ”„ Animation JS -->
  <script>
	window.addEventListener('DOMContentLoaded', () => {
		const overlay = document.querySelector('.animation-overlay');
		const logo = document.getElementById('navbar-logo');

		// Check if animation has already played this session
		const hasPlayed = sessionStorage.getItem('animationPlayed');

		if (!hasPlayed) {
			// Disable scrolling
			document.body.style.overflow = 'hidden';

			setTimeout(() => {
				// Remove overlay and re-enable scroll
				if (overlay instanceof HTMLElement) {
					overlay.style.display = 'none';
					document.body.style.overflow = 'auto';
				}
				if (logo instanceof HTMLElement) {
					logo.style.opacity = '1';
				}
				// Mark animation as played
				sessionStorage.setItem('animationPlayed', 'true');
			}, 4000); // Match animation duration
		} else {
			// Skip animation entirely
			if (overlay instanceof HTMLElement) {
				overlay.style.display = 'none';
			}
			if (logo instanceof HTMLElement) {
				logo.style.opacity = '1';
			}
		}
	});
	</script>

  
  
</BaseLayout>
<script>
	window.addEventListener('load', () => {
	  const logos = document.querySelector('.sponsor-logos');
	  if (logos) {
		logos.classList.add('fade-to-white');
	  }
	});
  </script>